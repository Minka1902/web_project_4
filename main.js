!function(){"use strict";class e{constructor(e,t){this._form=t,this._setSettings(e)}_setSettings(e){this._formSelector=e.formSelector,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._submitButton=this._form.querySelector(this._submitButtonSelector),this._inputs=[...this._form.querySelectorAll(this._inputSelector)]}enableValidation(){this._formSelector&&(this._form.addEventListener("submit",(e=>e.preventDefault())),this._inputs.forEach((e=>{e.addEventListener("input",(e=>{this._handleInputEvent(e.target),this.validateButton()}))})))}_handleInputEvent(e){const t=e.parentElement.querySelector(".".concat(e.id,"-error"));this._checkInputValidity(e)?(this._hideErrorMessage(t,this._errorClass),e.classList.remove(this._inputErrorClass)):(this._showErrorMessage(t,this._errorClass),e.classList.add(this._inputErrorClass))}_checkFormValidity(){let e=!0;for(let t=0;t<this._inputs.length;t++)this._checkInputValidity(this._inputs[t])||(e=!1);return e}_hideErrorMessage(e){e.classList.remove(this._errorClass)}_showErrorMessage(e){e.classList.add(this._errorClass)}validateButton(){this._checkFormValidity()?this.toggleButtonState(!0):this.toggleButtonState(!1)}_checkInputValidity(e){return e.validity.valid}toggleButtonState(e){e?(this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1):(this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0)}}class t{constructor(e){var t,s;s=e=>{"Escape"==e.code&&this.close()},(t="_handleEscClose")in this?Object.defineProperty(this,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):this[t]=s,this._isOpen=!1,this._element=document.querySelector(e)}open(){this._isOpen=!0,document.addEventListener("keydown",this._handleEscClose),this._element.classList.add("popup_opened")}close(){this._isOpen=!1,this._element&&this._element.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}querySelector(e){return this._element.querySelector(e)}checkIfOpened(){return this._isOpen}setEventListeners(){this._element.querySelector(".popup__close-button").addEventListener("click",(e=>{this.close()})),this._element.addEventListener("mousedown",(e=>{e.target.classList.contains("popup_opened")&&this.close()}))}}class s extends t{constructor(e,t){super(e),this._submit=t,this._form=this._element.querySelector(".popup__form"),this._inputs=this._element.querySelectorAll(".popup__input"),this._button=this._element.querySelector(".popup__button")}close(e){super.close(),e||this._form.reset()}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(e=>{this._button.textContent="Saving...",this._submit(e)}))}}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class n{constructor(e,t,s,n,r,o,a,l,c){i(this,"handleClick",(e=>{this._owner._id===this._user.id&&(this._deleteCard(),e.deleteCard(this._cardId).then((()=>{this._confirmPopup.close()})).finally((()=>{this._confirmPopup.querySelector(".popup__button").textContent="Yes"})).catch((e=>{console.log(e)})),this._confirmPopup.querySelector(".popup__button").textContent="Deleting...")})),i(this,"_setEventListeners",(e=>{this._likeButton=this._element.querySelector(".card__like-button"),this._likeButton.addEventListener("click",(()=>{this._likeButton.classList.contains("info__card_like-button_state_active")||(this._justClicked=!0),this._checkLikes(e)})),this._cardDelete.addEventListener("click",(()=>{this._confirmPopup.open(this.handleClick,e)})),this._cardImage.addEventListener("click",(()=>{this._handleImageClick({url:this._link,caption:this._name})}))})),this._cardTemplate=e,this._name=t,this._link=s,this._cardId=n,this._likes=r,this._handleImageClick=o,this._confirmPopup=a,this._owner=l,this._user=c}generateCard(e){return this._createCard(),this._setEventListeners(e),this._toggleLikes(),this._element}_createCard(){this._element=this._getTemplate();const e=this._element;return this._cardImage=e.querySelector(".card__image"),e.querySelector(".card__text").textContent=this._name,this._cardImage.src=this._link,this._cardImage.alt="A view of ".concat(this._name),this._likeNumber=this._element.querySelector(".card__like-number"),this._likeNumber.textContent=this.getLikeNumber(),e}_setCardLikes(){this._likeNumber.textContent=this.getLikeNumber()}_getTemplate(){const e=document.querySelector(this._cardTemplate).content.querySelector(".card").cloneNode(!0);return this._cardDelete=e.querySelector(".card__delete"),this._owner&&this._owner._id!==this._user.id&&this._cardDelete.classList.add("card__delete_hidden"),e}getLikeNumber(){return this._likes?this._likes.length:0}_isLiked(){for(let e=0;e<this._likes.length;e++)return this._likes[e]._id===this._user.id}_checkLikes(e){this._justClicked?(this._likes&&(this._likes[this._likes.length]=this._user),e.addLike(this._cardId).then((()=>{this._likeNumber.textContent=this.getLikeNumber(),this._likeButton.classList.add("info__card_like-button_state_active")})),this._justClicked=!1):e.removeLike(this._cardId).then((e=>{this._likes=e.likes,this._likeNumber.textContent=this.getLikeNumber(),this._likeButton.classList.remove("info__card_like-button_state_active")})).catch((e=>{console.log(e)})),this._setCardLikes()}_toggleLikes(){if(this._likes)for(let e=0;e<this._likes.length;e++)this._likes[e]._id===this._user.id&&this._likeButton.classList.add("info__card_like-button_state_active")}_deleteCard(){this._element.remove()}}const r=new class{constructor(e){let{name:t,job:s,avatar:i}=e;this._about=document.querySelector(s),this._name=document.querySelector(t),this._avatar=document.querySelector(i)}getUserInfo(){return{name:this._name.textContent,job:this._about.textContent,avatar:this._avatar.src}}createMe(e){this.me=e,this.id=e._id}getMe(){return this.me}setUserInfo(e){this._about.textContent=e.about,this._name.textContent=e.name,e.avatar&&(this._avatar.src=e.avatar)}setUserUrl(e){this._avatar.src=e}}({name:".profile__name",job:".profile__about-me",avatar:".profile__avatar"}),o=document.querySelector(".profile__edit-button"),a=document.querySelector(".profile__add-button"),l=document.querySelector(".profile__image-button"),c=new s(".popup_profile",(function(e){e.preventDefault();const t={name:y.value,about:C.value};r.setUserInfo(t),L.changeUserInfo(y,C).finally((()=>{c.querySelector(".popup__button").textContent="Save"})).catch((e=>{console.log(e)})),q()})),h=new class extends t{constructor(e,t){super(e),this._button=this._element.querySelector(t),this._isOpen=!1}open(e,t){super.open(),this._api=t,this._handleClick=e,this._button.addEventListener("click",(()=>{this._handleClick(this._api)}))}close(){super.close(),this._button.removeEventListener("click",(()=>{this._handleClick(this._api)}))}}(".popup_confirm",".popup__button"),_=new s(".popup_add",(function(e){e.preventDefault(),L.addCard(E,S).then((e=>{B.addItem({name:E.value,link:S.value,likes:[],owner:r.getMe(),id:e._id}),m.reset()})).finally((()=>{_.querySelector(".popup__button").textContent="Save"})).catch((e=>{console.log(e)})),v.toggleButtonState(!1),w()})),u=new s(".popup_avatar",(function(e){e.preventDefault(),r.setUserUrl(g.value),L.changeAvatar(g).finally((()=>{u.querySelector(".popup__button").textContent="Save"})).catch((e=>{console.log(e)})),U()})),d=new class extends t{constructor(e,t,s){var i,n;super(e),n=e=>{let{caption:t,url:s}=e;super.open(),this._image.setAttribute("src",s),this._image.setAttribute("alt",t),this._element.querySelector(".popup__text").textContent=t},(i="open")in this?Object.defineProperty(this,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):this.open=n,this._url=t,this._caption=s,this._image=this._element.querySelector(".popup__image")}}(".popup_image"),p=document.getElementById("editform"),m=document.getElementById("addform"),k={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_invalid",inputErrorClass:"popup__input_type_error",errorClass:"popup__error-massage_visible"},b=new e(k,document.getElementById("avatarform")),v=new e(k,m),f=new e(k,p),g=document.getElementById("avatar"),y=document.getElementById("popupname"),C=document.getElementById("popupaboutme"),E=document.getElementById("title"),S=document.getElementById("imagelink"),L=new class{constructor(e){this._baseUrl=e.baseUrl,this._headers=e.headers}_checkResponse(e){return e.ok?e.json():"Error ".concat(e.status)}getInitialCards(){return fetch("".concat(this._baseUrl,"/cards"),{method:"GET",headers:{authorization:this._headers.authorization}}).then((e=>this._checkResponse(e)))}getUserInfo(){return fetch("".concat(this._baseUrl,"/users/me"),{method:"GET",headers:{authorization:this._headers.authorization}}).then((e=>this._checkResponse(e)))}addLike(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:{authorization:this._headers.authorization}}).then((e=>this._checkResponse(e)))}removeLike(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:{authorization:this._headers.authorization}}).then((e=>this._checkResponse(e)))}addCard(e,t){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:{authorization:this._headers.authorization,"Content-Type":"application/json"},body:JSON.stringify({name:e.value,link:t.value})}).then((e=>this._checkResponse(e)))}deleteCard(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:{authorization:this._headers.authorization}}).then((e=>this._checkResponse(e)))}changeAvatar(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:{authorization:this._headers.authorization,"Content-Type":"application/json"},body:JSON.stringify({avatar:e.value})}).then((e=>this._checkResponse(e)))}changeUserInfo(e,t){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:{authorization:this._headers.authorization,"Content-Type":"application/json"},body:JSON.stringify({name:e.value,about:t.value})}).then((e=>this._checkResponse(e)))}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"614bb6fa-36a6-4d24-9b95-72bf17bccf61","Content-Type":"application/json"}}),I=[],B=new class{constructor(e,t,s){let{items:i,renderer:n}=e;this._renderer=n,this._items=i,this._api=s,this._element=document.querySelector(t)}addItem(e){const t=this._renderer(e,this._api);this._element.prepend(t)}render(){for(let e=0;e<this._items.length;e++)this.addItem(this._items[e])}}({items:I,renderer:function(e,t){return new n("#cardtemplate",e.name,e.link,e.id,e.likes,x,h,e.owner,r).generateCard(t)}},".cards",L);function q(){if(c.checkIfOpened())c.close();else{c.open();const{name:e,job:t}=r.getUserInfo();y.value=e,C.value=t}}function w(){_.checkIfOpened()?_.close(!0):_.open()}function U(){u.checkIfOpened()?u.close():u.open()}function x(e){let{url:t,caption:s}=e;d.open({url:t,caption:s})}c.setEventListeners(),h.setEventListeners(),_.setEventListeners(),u.setEventListeners(),d.setEventListeners(),b.enableValidation(),v.enableValidation(),f.enableValidation(),a.addEventListener("click",w),o.addEventListener("click",q),l.addEventListener("click",U),Promise.all([L.getUserInfo(),L.getInitialCards()]).then((e=>{let[t,s]=e;const i={};r.createMe(t),i.name=t.name,i.about=t.about,i.avatar=t.avatar,r.setUserInfo(i);for(let e=0;e<s.length;e++){const t=s.length-1,i={name:s[t-e].name,link:s[t-e].link,id:s[t-e]._id,likes:s[t-e].likes,owner:s[t-e].owner};I[e]=i}B.render()})).catch((e=>{console.log(e)}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VzNJLEtBQU95SSxFQUFTekksS0FDM0IySSxFQUFXeEUsTUFBUXNFLEVBQVN0RSxNQUM1QndFLEVBQVdsRixPQUFTZ0YsRUFBU2hGLE9BQzdCNkUsRUFBQUEsWUFBNEJLLEdBRTVCLElBQUssSUFBSTFLLEVBQUksRUFBR0EsRUFBSXlLLEVBQU94SyxPQUFRRCxJQUFLLENBQ3BDLE1BQU0ySyxFQUFNRixFQUFPeEssT0FBUyxFQUN0Qm1LLEVBQVUsQ0FDWnJJLEtBQU0wSSxFQUFPRSxFQUFNM0ssR0FBRytCLEtBQ3RCQyxLQUFNeUksRUFBT0UsRUFBTTNLLEdBQUdnQyxLQUN0QnpDLEdBQUlrTCxFQUFPRSxFQUFNM0ssR0FBR3lDLElBQ3BCUCxNQUFPdUksRUFBT0UsRUFBTTNLLEdBQUdrQyxNQUN2QkcsTUFBT29JLEVBQU9FLEVBQU0zSyxHQUFHcUMsT0FFM0JnSSxFQUFpQnJLLEdBQUtvSyxFQUUxQkMsRUFBQUEsWUFDRHBILE9BQU9DLElBQ05DLFFBQVFDLElBQUlGLE0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cENvbmZpcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtVG9WYWxpZGF0ZSkge1xyXG4gICAgICAgIHRoaXMuX2Zvcm0gPSBmb3JtVG9WYWxpZGF0ZTtcclxuICAgICAgICB0aGlzLl9zZXRTZXR0aW5ncyhzZXR0aW5ncyk7XHJcbiAgICB9XHJcblxyXG4gICAgX3NldFNldHRpbmdzKHNldHRpbmdzKSB7XHJcbiAgICAgICAgdGhpcy5fZm9ybVNlbGVjdG9yID0gc2V0dGluZ3MuZm9ybVNlbGVjdG9yO1xyXG4gICAgICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBzZXR0aW5ncy5pbnB1dFNlbGVjdG9yO1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICAgICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IHNldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICAgICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBzZXR0aW5ncy5lcnJvckNsYXNzO1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5faW5wdXRzID0gWy4uLnRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKV07XHJcbiAgICB9XHJcblxyXG4gICAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5fZm9ybVNlbGVjdG9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpKTtcclxuICAgICAgICAgICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlSW5wdXRFdmVudChldnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbGlkYXRlQnV0dG9uKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vICEgdGhpcyBmdW5jdGlvbiBoYW5kbGVzIHRoZSBlcnJvciBtYXNzYWdlIHN0YXRlIGFjY29yZGluZyB0byB0aGUgaW5wdXQgdmFsaWRpdHlcclxuICAgIF9oYW5kbGVJbnB1dEV2ZW50KGlucHV0RWxlbWVudCkge1xyXG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGlucHV0RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hpZGVFcnJvck1lc3NhZ2UoZXJyb3JNZXNzYWdlLCB0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgICAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9zaG93RXJyb3JNZXNzYWdlKGVycm9yTWVzc2FnZSwgdGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICAgICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vICEgdGhpcyBmdW5jdGlvbiBjaGVja2VzIGlmIHRoZSBmb3JtIGlzIHZhbGlkXHJcbiAgICBfY2hlY2tGb3JtVmFsaWRpdHkoKSB7XHJcbiAgICAgICAgICAgIGxldCBpc1ZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9pbnB1dHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KHRoaXMuX2lucHV0c1tpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vICEgdGhpcyBmdW5jdGlvbiBoaWRlcyB0aGUgZXJyb3IgbWFzc2FnZVxyXG4gICAgX2hpZGVFcnJvck1lc3NhZ2UoZXJyb3JNZXNzYWdlKSB7XHJcbiAgICAgICAgZXJyb3JNZXNzYWdlLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gISB0aGlzIGZ1bmN0aW9uIHNob3dzIHRoZSBlcnJvciBtYXNzYWdlXHJcbiAgICBfc2hvd0Vycm9yTWVzc2FnZShlcnJvck1lc3NhZ2UpIHtcclxuICAgICAgICBlcnJvck1lc3NhZ2UuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAhIHRoaXMgZnVuY3Rpb24gaGFuZGxlcyB0aGUgYnV0dG9uIHN0YXRlIGFjY29yZGluZyB0byB0aGUgZm9ybSB2YWxpZGl0eVxyXG4gICAgdmFsaWRhdGVCdXR0b24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2NoZWNrRm9ybVZhbGlkaXR5KCkpIHtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSh0cnVlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gISB0aGlzIGZ1bmN0aW9uIGNoZWNrZXMgaWYgdGhlIGlucHV0IGlzIHZhbGlkXHJcbiAgICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xyXG4gICAgICAgIHJldHVybiBpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gISB0aGlzIGZ1bmN0aW9uIHRvZ2dsZXMgYnV0dG9uIHN0YXRlXHJcbiAgICB0b2dnbGVCdXR0b25TdGF0ZShpc1ZhbGlkKSB7XHJcbiAgICAgICAgaWYgKGlzVmFsaWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgICAgICB0aGlzLl9pc09wZW4gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKCkge1xyXG4gICAgICAgIHRoaXMuX2lzT3BlbiA9IHRydWU7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICB0aGlzLl9pc09wZW4gPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5fZWxlbWVudCkge1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIH1cclxuXHJcbiAgICBxdWVyeVNlbGVjdG9yKGNsYXNzTmFtZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoY2xhc3NOYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XHJcbiAgICAgICAgaWYgKGV2dC5jb2RlID09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjaGVja0lmT3BlbmVkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pc09wZW47XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZS1idXR0b25cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9vcGVuZWRcIikpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3RvcihjbGFzc1NlbGVjdG9yLCBzdWJtaXQpIHtcclxuICAgICAgICBzdXBlcihjbGFzc1NlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9zdWJtaXQgPSBzdWJtaXQ7XHJcbiAgICAgICAgdGhpcy5fZm9ybSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKVxyXG4gICAgICAgIHRoaXMuX2lucHV0cyA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIik7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25cIik7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoaXNBZGRlZCkge1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICAgICAgaWYgKCFpc0FkZGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICAgICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fYnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcclxuICAgICAgICAgICAgdGhpcy5fc3VibWl0KGV2dCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICAgIGNvbnN0cnVjdG9yKGNhcmRUZW1wbGF0ZSwgbmFtZSwgbGluaywgY2FyZElkLCBsaWtlcywgaGFuZGxlSW1hZ2VDbGljaywgY29uZmlybVBvcHVwLCBvd25lciwgdXNlcikge1xyXG4gICAgICAgIHRoaXMuX2NhcmRUZW1wbGF0ZSA9IGNhcmRUZW1wbGF0ZTtcclxuICAgICAgICB0aGlzLl9uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLl9saW5rID0gbGluaztcclxuICAgICAgICB0aGlzLl9jYXJkSWQgPSBjYXJkSWQ7XHJcbiAgICAgICAgdGhpcy5fbGlrZXMgPSBsaWtlcztcclxuICAgICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcclxuICAgICAgICB0aGlzLl9jb25maXJtUG9wdXAgPSBjb25maXJtUG9wdXA7XHJcbiAgICAgICAgdGhpcy5fb3duZXIgPSBvd25lcjtcclxuICAgICAgICB0aGlzLl91c2VyID0gdXNlcjtcclxuICAgIH1cclxuXHJcbiAgICAvLyAqICogdGhpcyBmdW5jdGlvbiBnZW5lcmF0ZXMgdGhlIGNhcmQgXHJcbiAgICBnZW5lcmF0ZUNhcmQoYXBpKSB7XHJcbiAgICAgICAgdGhpcy5fY3JlYXRlQ2FyZCgpO1xyXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKGFwaSk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlTGlrZXMoKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICAvLyAqICogdGhpcyBmdW5jdGlvbiBzZXRzIGFsbCB0aGUgaW5mbyBvZiB0aGUgY2FyZFxyXG4gICAgX2NyZWF0ZUNhcmQoKSB7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICAgICAgY29uc3QgY2FyZCA9IHRoaXMuX2VsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5fY2FyZEltYWdlID0gY2FyZC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xyXG4gICAgICAgIGNhcmQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190ZXh0XCIpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgICAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcclxuICAgICAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gYEEgdmlldyBvZiAkeyB0aGlzLl9uYW1lIH1gO1xyXG4gICAgICAgIHRoaXMuX2xpa2VOdW1iZXIgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1udW1iZXJcIik7XHJcbiAgICAgICAgdGhpcy5fbGlrZU51bWJlci50ZXh0Q29udGVudCA9IHRoaXMuZ2V0TGlrZU51bWJlcigpO1xyXG4gICAgICAgIHJldHVybiBjYXJkO1xyXG4gICAgfVxyXG5cclxuICAgIF9zZXRDYXJkTGlrZXMoKSB7XHJcbiAgICAgICAgdGhpcy5fbGlrZU51bWJlci50ZXh0Q29udGVudCA9IHRoaXMuZ2V0TGlrZU51bWJlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vICogKiB0aGlzIGZ1bmN0aW9uIGNyZWF0ZXMgdGhlIGNhcmQgdGVtcGxhdGVcclxuICAgIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRUZW1wbGF0ZSlcclxuICAgICAgICAgICAgLmNvbnRlbnRcclxuICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxyXG4gICAgICAgICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuX2NhcmREZWxldGUgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZVwiKTtcclxuICAgICAgICBpZiAodGhpcy5fb3duZXIpIHtcclxuICAgICAgICAgICAgaWYgKCEodGhpcy5fb3duZXIuX2lkID09PSB0aGlzLl91c2VyLmlkKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2FyZERlbGV0ZS5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fZGVsZXRlX2hpZGRlblwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TGlrZU51bWJlcigpIHtcclxuICAgICAgICBpZiAodGhpcy5fbGlrZXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQ2xpY2sgPSAoYXBpKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuX293bmVyLl9pZCA9PT0gdGhpcy5fdXNlci5pZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9kZWxldGVDYXJkKCk7XHJcbiAgICAgICAgICAgIGFwaS5kZWxldGVDYXJkKHRoaXMuX2NhcmRJZClcclxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb25maXJtUG9wdXAuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIH0pLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvbmZpcm1Qb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25cIikudGV4dENvbnRlbnQgPSBcIlllc1wiO1xyXG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpcm1Qb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25cIikudGV4dENvbnRlbnQgPSBcIkRlbGV0aW5nLi4uXCJcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gKiAqIHRoaXMgZnVuY3Rpb24gY3JlYXRlcyBhbGwgdGhlIGV2ZW50IGxpc3RlbmVyc1xyXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzID0gKGFwaSkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIik7XHJcbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKFwiaW5mb19fY2FyZF9saWtlLWJ1dHRvbl9zdGF0ZV9hY3RpdmVcIikpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2p1c3RDbGlja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9jaGVja0xpa2VzKGFwaSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLl9jYXJkRGVsZXRlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpcm1Qb3B1cC5vcGVuKHRoaXMuaGFuZGxlQ2xpY2ssIGFwaSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHsgdXJsOiB0aGlzLl9saW5rLCBjYXB0aW9uOiB0aGlzLl9uYW1lIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIF9pc0xpa2VkKCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fbGlrZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2xpa2VzW2ldLl9pZCA9PT0gdGhpcy5fdXNlci5pZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyAqICogdGhpcyBmdW5jdGlvbiB0b2dnbGVzIGxpa2VzIGZvciB0aGUgY2FyZHNcclxuICAgIF9jaGVja0xpa2VzKGFwaSkge1xyXG4gICAgICAgIGlmICh0aGlzLl9qdXN0Q2xpY2tlZCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fbGlrZXMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xpa2VzW3RoaXMuX2xpa2VzLmxlbmd0aF0gPSB0aGlzLl91c2VyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFwaS5hZGRMaWtlKHRoaXMuX2NhcmRJZClcclxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9saWtlTnVtYmVyLnRleHRDb250ZW50ID0gdGhpcy5nZXRMaWtlTnVtYmVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiaW5mb19fY2FyZF9saWtlLWJ1dHRvbl9zdGF0ZV9hY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5fanVzdENsaWNrZWQgPSBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhcGkucmVtb3ZlTGlrZSh0aGlzLl9jYXJkSWQpXHJcbiAgICAgICAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9saWtlTnVtYmVyLnRleHRDb250ZW50ID0gdGhpcy5nZXRMaWtlTnVtYmVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiaW5mb19fY2FyZF9saWtlLWJ1dHRvbl9zdGF0ZV9hY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fc2V0Q2FyZExpa2VzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgX3RvZ2dsZUxpa2VzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9saWtlcykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2xpa2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbGlrZXNbaV0uX2lkID09PSB0aGlzLl91c2VyLmlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiaW5mb19fY2FyZF9saWtlLWJ1dHRvbl9zdGF0ZV9hY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gKiAqIHRoaXMgZnVuY3Rpb24gZGVsZXRlcyB0aGUgY2FyZFxyXG4gICAgX2RlbGV0ZUNhcmQoKSB7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuICAgIH1cclxufTsiLCJpbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZVwiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtXCI7XHJcbmltcG9ydCBQb3B1cENvbmZpcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBDb25maXJtXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb25cIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGlcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZFwiXHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mb1wiO1xyXG5cclxuLy8gISB1c2VyXHJcbmV4cG9ydCBjb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7IG5hbWU6IFwiLnByb2ZpbGVfX25hbWVcIiwgam9iOiBcIi5wcm9maWxlX19hYm91dC1tZVwiLCBhdmF0YXI6IFwiLnByb2ZpbGVfX2F2YXRhclwiIH0pO1xyXG5cclxuLy8gISBidXR0b25zXHJcbmV4cG9ydCBjb25zdCBlZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcclxuZXhwb3J0IGNvbnN0IGFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcclxuZXhwb3J0IGNvbnN0IGF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW1hZ2UtYnV0dG9uXCIpO1xyXG5cclxuLy8gISBwb3B1cFxyXG5leHBvcnQgY29uc3QgcHJvZmlsZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfcHJvZmlsZVwiLCBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCk7XHJcbmV4cG9ydCBjb25zdCBjb25maXJtUG9wdXAgPSBuZXcgUG9wdXBDb25maXJtKFwiLnBvcHVwX2NvbmZpcm1cIiwgXCIucG9wdXBfX2J1dHRvblwiKTtcclxuZXhwb3J0IGNvbnN0IGFkZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfYWRkXCIsIGhhbmRsZUFkZEZvcm1TdWJtaXQpO1xyXG5leHBvcnQgY29uc3QgYXZhdGFyUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5wb3B1cF9hdmF0YXJcIiwgaGFuZGxlQXZhdGFyRm9ybVN1Ym1pdCk7XHJcbmV4cG9ydCBjb25zdCBpbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiLnBvcHVwX2ltYWdlXCIpO1xyXG5cclxuLy8gISBmb3Jtc1xyXG5leHBvcnQgY29uc3QgZWRpdEZvcm1FbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlZGl0Zm9ybVwiKTtcclxuZXhwb3J0IGNvbnN0IGFkZEZvcm1FbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGRmb3JtXCIpO1xyXG5leHBvcnQgY29uc3QgYXZhdGFyRm9ybUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImF2YXRhcmZvcm1cIik7XHJcbmNvbnN0IGZvcm1TZXR0aW5ncyA9IHtcclxuICAgIGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2Zvcm1cIixcclxuICAgIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxyXG4gICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19idXR0b25cIixcclxuICAgIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX2J1dHRvbl9pbnZhbGlkXCIsXHJcbiAgICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICAgIGVycm9yQ2xhc3M6IFwicG9wdXBfX2Vycm9yLW1hc3NhZ2VfdmlzaWJsZVwiXHJcbn07XHJcbmV4cG9ydCBjb25zdCBhdmF0YXJGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybVNldHRpbmdzLCBhdmF0YXJGb3JtRWxlbWVudClcclxuZXhwb3J0IGNvbnN0IGFkZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtU2V0dGluZ3MsIGFkZEZvcm1FbGVtZW50KTtcclxuZXhwb3J0IGNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybVNldHRpbmdzLCBlZGl0Rm9ybUVsZW1lbnQpO1xyXG5cclxuLy8gISBpbnB1dHNcclxuZXhwb3J0IGNvbnN0IGF2YXRhclVybElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhdmF0YXJcIik7XHJcbmV4cG9ydCBjb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvcHVwbmFtZVwiKTtcclxuZXhwb3J0IGNvbnN0IGpvYklucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwb3B1cGFib3V0bWVcIik7XHJcblxyXG4vLyAhaW5wdXQgaGVscFxyXG5jb25zdCB0aXRsZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aXRsZVwiKTtcclxuY29uc3QgaW1hZ2VMaW5rSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImltYWdlbGlua1wiKTtcclxuXHJcblxyXG4vLyAhIGFwaVxyXG5jb25zdCBhcGlPcHRpb25zID0ge1xyXG4gICAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTEyXCIsXHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogXCI2MTRiYjZmYS0zNmE2LTRkMjQtOWI5NS03MmJmMTdiY2NmNjFcIixcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjb25zdCBhcGkgPSBuZXcgQXBpKGFwaU9wdGlvbnMpO1xyXG5cclxuLy8gISBzZWN0aW9uXHJcbmV4cG9ydCBjb25zdCBjYXJkc0RhdGEgPSBbXTtcclxuZXhwb3J0IGNvbnN0IGNhcmRzU2VjdGlvbiA9IG5ldyBTZWN0aW9uKHsgaXRlbXM6IGNhcmRzRGF0YSwgcmVuZGVyZXI6IGNyZWF0ZUNhcmQgfSwgXCIuY2FyZHNcIiwgYXBpKTtcclxuXHJcbi8vICEgY3JlYXRlIGNhcmRzXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoY2FyZE9iaiwgYXBpKSB7XHJcbiAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoXHJcbiAgICAgICAgXCIjY2FyZHRlbXBsYXRlXCIsXHJcbiAgICAgICAgY2FyZE9iai5uYW1lLFxyXG4gICAgICAgIGNhcmRPYmoubGluayxcclxuICAgICAgICBjYXJkT2JqLmlkLFxyXG4gICAgICAgIGNhcmRPYmoubGlrZXMsXHJcbiAgICAgICAgaGFuZGxlSW1hZ2VDbGljayxcclxuICAgICAgICBjb25maXJtUG9wdXAsXHJcbiAgICAgICAgY2FyZE9iai5vd25lcixcclxuICAgICAgICB1c2VySW5mbyk7XHJcblxyXG4gICAgcmV0dXJuIGNhcmQuZ2VuZXJhdGVDYXJkKGFwaSk7XHJcbn1cclxuXHJcbi8vICEgZWRpdCBwb3B1cCBhbmQgZm9ybSBoYW5kbGluZ1xyXG4vLyAqIHRoaXMgZnVuY3Rpb24gdG9nZ2xlcyB0aGUgcG9wdXAgd2luZG93IGZvciB0aGUgZWRpdCB3aW5kb3cgXHJcbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGVFZGl0UG9wdXBXaW5kb3coKSB7XHJcbiAgICBpZiAoIXByb2ZpbGVQb3B1cC5jaGVja0lmT3BlbmVkKCkpIHtcclxuICAgICAgICBwcm9maWxlUG9wdXAub3BlbigpO1xyXG4gICAgICAgIGNvbnN0IHsgbmFtZSwgam9iIH0gPSB1c2VySW5mby5nZXRVc2VySW5mbygpXHJcbiAgICAgICAgbmFtZUlucHV0LnZhbHVlID0gbmFtZTtcclxuICAgICAgICBqb2JJbnB1dC52YWx1ZSA9IGpvYjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcHJvZmlsZVBvcHVwLmNsb3NlKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vICogZWRpdCBmb3JtIGhhbmRsZVxyXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdChldnQpIHtcclxuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIGNvbnN0IHVzZXJPYmogPSB7IG5hbWU6IG5hbWVJbnB1dC52YWx1ZSwgYWJvdXQ6IGpvYklucHV0LnZhbHVlIH07XHJcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyT2JqKTtcclxuXHJcbiAgICBhcGkuY2hhbmdlVXNlckluZm8obmFtZUlucHV0LCBqb2JJbnB1dClcclxuICAgICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgICAgIHByb2ZpbGVQb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25cIikudGV4dENvbnRlbnQgPSBcIlNhdmVcIjtcclxuICAgICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgdG9nZ2xlRWRpdFBvcHVwV2luZG93KCk7XHJcbn1cclxuXHJcbi8vICEgYWRkIHBvcHVwIGFuZCBmb3JtIGhhbmRsaW5nXHJcbi8vICogdGhpcyBmdW5jdGlvbiB0b2dnbGVzIHRoZSBwb3B1cCB3aW5kb3cgZm9yIHRoZSBhZGQgd2luZG93IFxyXG5leHBvcnQgZnVuY3Rpb24gdG9nZ2xlQWRkUG9wdXBXaW5kb3coKSB7XHJcbiAgICBpZiAoIWFkZFBvcHVwLmNoZWNrSWZPcGVuZWQoKSkge1xyXG4gICAgICAgIGFkZFBvcHVwLm9wZW4oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYWRkUG9wdXAuY2xvc2UodHJ1ZSk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vLyAqIGFkZCBmb3JtIGhhbmRsZVxyXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlQWRkRm9ybVN1Ym1pdChldnQpIHtcclxuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIGFwaS5hZGRDYXJkKHRpdGxlSW5wdXQsIGltYWdlTGlua0lucHV0KVxyXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGNhcmRzU2VjdGlvbi5hZGRJdGVtKHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IHRpdGxlSW5wdXQudmFsdWUsXHJcbiAgICAgICAgICAgICAgICBsaW5rOiBpbWFnZUxpbmtJbnB1dC52YWx1ZSxcclxuICAgICAgICAgICAgICAgIGxpa2VzOiBbXSxcclxuICAgICAgICAgICAgICAgIG93bmVyOiB1c2VySW5mby5nZXRNZSgpLFxyXG4gICAgICAgICAgICAgICAgaWQ6IGRhdGEuX2lkXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBhZGRGb3JtRWxlbWVudC5yZXNldCgpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICBhZGRQb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25cIikudGV4dENvbnRlbnQgPSBcIlNhdmVcIjtcclxuICAgICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgYWRkRm9ybVZhbGlkYXRvci50b2dnbGVCdXR0b25TdGF0ZShmYWxzZSk7XHJcbiAgICB0b2dnbGVBZGRQb3B1cFdpbmRvdygpO1xyXG59XHJcblxyXG4vLyAhIGF2YXRhciBwb3B1cCBhbmQgZm9ybSBoYW5kbGluZ1xyXG4vLyAqIHRoaXMgZnVuY3Rpb24gdG9nZ2xlcyB0aGUgcG9wdXAgd2luZG93IGZvciB0aGUgYXZhdGFyIHdpbmRvdyBcclxuZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZUF2YXRhclBvcHVwV2luZG93KCkge1xyXG4gICAgaWYgKCFhdmF0YXJQb3B1cC5jaGVja0lmT3BlbmVkKCkpIHtcclxuICAgICAgICBhdmF0YXJQb3B1cC5vcGVuKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGF2YXRhclBvcHVwLmNsb3NlKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vICogYXZhdGFyIGZvcm0gaGFuZGxlXHJcbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVBdmF0YXJGb3JtU3VibWl0KGV2dCkge1xyXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgdXNlckluZm8uc2V0VXNlclVybChhdmF0YXJVcmxJbnB1dC52YWx1ZSk7XHJcblxyXG4gICAgYXBpLmNoYW5nZUF2YXRhcihhdmF0YXJVcmxJbnB1dClcclxuICAgICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgICAgIGF2YXRhclBvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J1dHRvblwiKS50ZXh0Q29udGVudCA9IFwiU2F2ZVwiO1xyXG4gICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB0b2dnbGVBdmF0YXJQb3B1cFdpbmRvdygpO1xyXG59XHJcblxyXG4vLyAhIGltYWdlIHBvcHVwIGhhbmRsZVxyXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlSW1hZ2VDbGljayh7IHVybCwgY2FwdGlvbiB9KSB7XHJcbiAgICBpbWFnZVBvcHVwLm9wZW4oeyB1cmwsIGNhcHRpb24gfSk7XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IG5hbWU6IG5hbWVTZWxlY3Rvciwgam9iOiBhYm91dFNlbGVjdG9yLCBhdmF0YXI6IGF2YXRhclNlbGVjdG9yIH0pIHtcclxuICAgICAgICB0aGlzLl9hYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYWJvdXRTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9hdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRVc2VySW5mbygpIHtcclxuICAgICAgICByZXR1cm4geyBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LCBqb2I6IHRoaXMuX2Fib3V0LnRleHRDb250ZW50LCBhdmF0YXI6IHRoaXMuX2F2YXRhci5zcmMgfTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVNZShkYXRhT2JqKSB7XHJcbiAgICAgICAgdGhpcy5tZSA9IGRhdGFPYmo7XHJcbiAgICAgICAgdGhpcy5pZCA9IGRhdGFPYmouX2lkO1xyXG4gICAgfVxyXG5cclxuICAgIGdldE1lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1lO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVzZXJJbmZvKHVzZXJJbmZvKSB7XHJcbiAgICAgICAgdGhpcy5fYWJvdXQudGV4dENvbnRlbnQgPSB1c2VySW5mby5hYm91dDtcclxuICAgICAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gdXNlckluZm8ubmFtZTtcclxuICAgICAgICBpZiAodXNlckluZm8uYXZhdGFyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2F2YXRhci5zcmMgPSB1c2VySW5mby5hdmF0YXI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldFVzZXJVcmwoYXZhdGFyVXJsKSB7XHJcbiAgICAgICAgdGhpcy5fYXZhdGFyLnNyYyA9IGF2YXRhclVybDtcclxuICAgIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBDb25maXJtIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgYnV0dG9uU2VsZWN0b3IpIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9idXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYnV0dG9uU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2lzT3BlbiA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4oaGFuZGxlQ2xpY2ssIGFwaSkge1xyXG4gICAgICAgIHN1cGVyLm9wZW4oKTtcclxuICAgICAgICB0aGlzLl9hcGkgPSBhcGk7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlQ2xpY2sgPSBoYW5kbGVDbGljaztcclxuICAgICAgICB0aGlzLl9idXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHsgdGhpcy5faGFuZGxlQ2xpY2sodGhpcy5fYXBpKSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4geyB0aGlzLl9oYW5kbGVDbGljayh0aGlzLl9hcGkpIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHVybCwgY2FwdGlvbikge1xyXG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX3VybCA9IHVybDtcclxuICAgICAgICB0aGlzLl9jYXB0aW9uID0gY2FwdGlvbjtcclxuICAgICAgICB0aGlzLl9pbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2VcIik7XHJcbiAgICB9XHJcblxyXG4gICAgb3BlbiA9ICh7IGNhcHRpb24sIHVybCB9KSA9PiB7XHJcbiAgICAgICAgc3VwZXIub3BlbigpO1xyXG4gICAgICAgIHRoaXMuX2ltYWdlLnNldEF0dHJpYnV0ZShcInNyY1wiLCB1cmwpO1xyXG4gICAgICAgIHRoaXMuX2ltYWdlLnNldEF0dHJpYnV0ZShcImFsdFwiLCBjYXB0aW9uKTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3RleHRcIikudGV4dENvbnRlbnQgPSBjYXB0aW9uO1xyXG4gICAgfVxyXG59IiwiLy97XHJcbi8vIFx0YmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTEyXCIsXHJcbi8vIFx0aGVhZGVyczoge1xyXG4vLyBcdFx0YXV0aG9yaXphdGlvbjogXCI2MTRiYjZmYS0zNmE2LTRkMjQtOWI5NS03MmJmMTdiY2NmNjFcIixcclxuLy8gXHRcdENvbnRlbnQ6IFwiYXBwbGljYXRpb24vanNvblwiXHJcbi8vIFx0fVxyXG4vL31cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7IC8vIGhlYWRlciA9IHthdXRob3JpemF0aW9uOiAsIFwiQ29udGVudC1UeXBlXCI6IH1cclxuICAgICAgICB0aGlzLl9iYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsO1xyXG4gICAgICAgIHRoaXMuX2hlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnM7XHJcbiAgICB9XHJcbiAgICBfY2hlY2tSZXNwb25zZShyZXMpIHtcclxuICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYEVycm9yICR7cmVzLnN0YXR1c31gO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5faGVhZGVycy5hdXRob3JpemF0aW9uXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlcylcclxuICAgICAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBnZXRVc2VySW5mbygpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5faGVhZGVycy5hdXRob3JpemF0aW9uXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlcyk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgYWRkTGlrZShpZCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2lkfWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9oZWFkZXJzLmF1dGhvcml6YXRpb24sXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZUxpa2UoaWQpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtpZH1gLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5faGVhZGVycy5hdXRob3JpemF0aW9uLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlcyk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBhZGRDYXJkKHRpdGxlSW5wdXQsIGltYWdlTGlua0lucHV0KSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9oZWFkZXJzLmF1dGhvcml6YXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHRpdGxlSW5wdXQudmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbGluazogaW1hZ2VMaW5rSW5wdXQudmFsdWUsXHJcbiAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzKTtcclxuICAgICAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBkZWxldGVDYXJkKGlkKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7aWR9YCwge1xyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2hlYWRlcnMuYXV0aG9yaXphdGlvbixcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzKTtcclxuICAgICAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBjaGFuZ2VBdmF0YXIoYXZhdGFyVXJsSW5wdXQpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5faGVhZGVycy5hdXRob3JpemF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgICAgIGF2YXRhcjogYXZhdGFyVXJsSW5wdXQudmFsdWUsXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXMpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNoYW5nZVVzZXJJbmZvKG5hbWVJbnB1dCwgam9iSW5wdXQpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9oZWFkZXJzLmF1dGhvcml6YXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZUlucHV0LnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGFib3V0OiBqb2JJbnB1dC52YWx1ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzKTtcclxuICAgICAgICAgICAgfSlcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gICAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgc2VsZWN0b3IsIGFwaSkge1xyXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICAgICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgICAgICB0aGlzLl9hcGkgPSBhcGk7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZEl0ZW0oaXRlbSkge1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLl9yZW5kZXJlcihpdGVtLCB0aGlzLl9hcGkpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucHJlcGVuZChlbGVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9pdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLmFkZEl0ZW0odGhpcy5faXRlbXNbaV0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIiBpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG4gaW1wb3J0ICogYXMgY29uc3RzIGZyb20gXCIuLi91dGlscy9jb25zdGFudHNcIjtcclxuXHJcbiBjb25zdHMucHJvZmlsZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiBjb25zdHMuY29uZmlybVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiBjb25zdHMuYWRkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuIGNvbnN0cy5hdmF0YXJQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gY29uc3RzLmltYWdlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiBjb25zdHMuYXZhdGFyRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiBjb25zdHMuYWRkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiBjb25zdHMuZWRpdEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuIC8vICEgY2FsbGluZyBldmVudCBsaXN0ZW5lcnNcclxuIGNvbnN0cy5hZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNvbnN0cy50b2dnbGVBZGRQb3B1cFdpbmRvdyk7XHJcblxyXG4gY29uc3RzLmVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNvbnN0cy50b2dnbGVFZGl0UG9wdXBXaW5kb3cpO1xyXG5cclxuIGNvbnN0cy5hdmF0YXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNvbnN0cy50b2dnbGVBdmF0YXJQb3B1cFdpbmRvdyk7XHJcblxyXG4gUHJvbWlzZS5hbGwoW2NvbnN0cy5hcGkuZ2V0VXNlckluZm8oKSwgY29uc3RzLmFwaS5nZXRJbml0aWFsQ2FyZHMoKV0pXHJcbiAgICAgLnRoZW4oKFt1c2VyRGF0YSwgZkNhcmRzXSkgPT4ge1xyXG4gICAgICAgICBjb25zdCB1c2VyT2JqZWN0ID0ge307XHJcbiAgICAgICAgIGNvbnN0cy51c2VySW5mby5jcmVhdGVNZSh1c2VyRGF0YSk7XHJcbiAgICAgICAgIHVzZXJPYmplY3QubmFtZSA9IHVzZXJEYXRhLm5hbWU7XHJcbiAgICAgICAgIHVzZXJPYmplY3QuYWJvdXQgPSB1c2VyRGF0YS5hYm91dDtcclxuICAgICAgICAgdXNlck9iamVjdC5hdmF0YXIgPSB1c2VyRGF0YS5hdmF0YXI7XHJcbiAgICAgICAgIGNvbnN0cy51c2VySW5mby5zZXRVc2VySW5mbyh1c2VyT2JqZWN0KTtcclxuXHJcbiAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZkNhcmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICBjb25zdCBsZW4gPSBmQ2FyZHMubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgIGNvbnN0IGNhcmRPYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgbmFtZTogZkNhcmRzW2xlbiAtIGldLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgbGluazogZkNhcmRzW2xlbiAtIGldLmxpbmssXHJcbiAgICAgICAgICAgICAgICAgaWQ6IGZDYXJkc1tsZW4gLSBpXS5faWQsXHJcbiAgICAgICAgICAgICAgICAgbGlrZXM6IGZDYXJkc1tsZW4gLSBpXS5saWtlcyxcclxuICAgICAgICAgICAgICAgICBvd25lcjogZkNhcmRzW2xlbiAtIGldLm93bmVyXHJcbiAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgY29uc3RzLmNhcmRzRGF0YVtpXSA9IGNhcmRPYmo7XHJcbiAgICAgICAgIH1cclxuICAgICAgICAgY29uc3RzLmNhcmRzU2VjdGlvbi5yZW5kZXIoKTtcclxuICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgfSk7Il0sIm5hbWVzIjpbIkZvcm1WYWxpZGF0b3IiLCJjb25zdHJ1Y3RvciIsInNldHRpbmdzIiwiZm9ybVRvVmFsaWRhdGUiLCJ0aGlzIiwiX2Zvcm0iLCJfc2V0U2V0dGluZ3MiLCJfZm9ybVNlbGVjdG9yIiwiZm9ybVNlbGVjdG9yIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX3N1Ym1pdEJ1dHRvbiIsInF1ZXJ5U2VsZWN0b3IiLCJfaW5wdXRzIiwicXVlcnlTZWxlY3RvckFsbCIsImVuYWJsZVZhbGlkYXRpb24iLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwiZm9yRWFjaCIsImlucHV0RWxlbWVudCIsImV2dCIsIl9oYW5kbGVJbnB1dEV2ZW50IiwidGFyZ2V0IiwidmFsaWRhdGVCdXR0b24iLCJlcnJvck1lc3NhZ2UiLCJwYXJlbnRFbGVtZW50IiwiaWQiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX2hpZGVFcnJvck1lc3NhZ2UiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJfc2hvd0Vycm9yTWVzc2FnZSIsImFkZCIsIl9jaGVja0Zvcm1WYWxpZGl0eSIsImlzVmFsaWQiLCJpIiwibGVuZ3RoIiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJ2YWxpZGl0eSIsInZhbGlkIiwiZGlzYWJsZWQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJjb2RlIiwiY2xvc2UiLCJfaXNPcGVuIiwiX2VsZW1lbnQiLCJkb2N1bWVudCIsIm9wZW4iLCJfaGFuZGxlRXNjQ2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2xhc3NOYW1lIiwiY2hlY2tJZk9wZW5lZCIsInNldEV2ZW50TGlzdGVuZXJzIiwiY29udGFpbnMiLCJQb3B1cFdpdGhGb3JtIiwiY2xhc3NTZWxlY3RvciIsInN1Ym1pdCIsInN1cGVyIiwiX3N1Ym1pdCIsIl9idXR0b24iLCJpc0FkZGVkIiwicmVzZXQiLCJ0ZXh0Q29udGVudCIsIkNhcmQiLCJjYXJkVGVtcGxhdGUiLCJuYW1lIiwibGluayIsImNhcmRJZCIsImxpa2VzIiwiaGFuZGxlSW1hZ2VDbGljayIsImNvbmZpcm1Qb3B1cCIsIm93bmVyIiwidXNlciIsImFwaSIsIl9vd25lciIsIl9pZCIsIl91c2VyIiwiX2RlbGV0ZUNhcmQiLCJkZWxldGVDYXJkIiwiX2NhcmRJZCIsInRoZW4iLCJfY29uZmlybVBvcHVwIiwiZmluYWxseSIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsIl9saWtlQnV0dG9uIiwiX2p1c3RDbGlja2VkIiwiX2NoZWNrTGlrZXMiLCJfY2FyZERlbGV0ZSIsImhhbmRsZUNsaWNrIiwiX2NhcmRJbWFnZSIsIl9oYW5kbGVJbWFnZUNsaWNrIiwidXJsIiwiX2xpbmsiLCJjYXB0aW9uIiwiX25hbWUiLCJfY2FyZFRlbXBsYXRlIiwiX2xpa2VzIiwiZ2VuZXJhdGVDYXJkIiwiX2NyZWF0ZUNhcmQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfdG9nZ2xlTGlrZXMiLCJfZ2V0VGVtcGxhdGUiLCJjYXJkIiwic3JjIiwiYWx0IiwiX2xpa2VOdW1iZXIiLCJnZXRMaWtlTnVtYmVyIiwiX3NldENhcmRMaWtlcyIsImNhcmRFbGVtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsIl9pc0xpa2VkIiwiYWRkTGlrZSIsInJlbW92ZUxpa2UiLCJkYXRhIiwidXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJqb2IiLCJhYm91dFNlbGVjdG9yIiwiYXZhdGFyIiwiYXZhdGFyU2VsZWN0b3IiLCJfYWJvdXQiLCJfYXZhdGFyIiwiZ2V0VXNlckluZm8iLCJjcmVhdGVNZSIsImRhdGFPYmoiLCJtZSIsImdldE1lIiwic2V0VXNlckluZm8iLCJhYm91dCIsInNldFVzZXJVcmwiLCJhdmF0YXJVcmwiLCJlZGl0QnV0dG9uIiwiYWRkQnV0dG9uIiwiYXZhdGFyQnV0dG9uIiwicHJvZmlsZVBvcHVwIiwidXNlck9iaiIsIm5hbWVJbnB1dCIsInZhbHVlIiwiam9iSW5wdXQiLCJjaGFuZ2VVc2VySW5mbyIsInRvZ2dsZUVkaXRQb3B1cFdpbmRvdyIsImJ1dHRvblNlbGVjdG9yIiwiX2FwaSIsIl9oYW5kbGVDbGljayIsImFkZFBvcHVwIiwiYWRkQ2FyZCIsInRpdGxlSW5wdXQiLCJpbWFnZUxpbmtJbnB1dCIsImNhcmRzU2VjdGlvbiIsImFkZEl0ZW0iLCJhZGRGb3JtRWxlbWVudCIsImFkZEZvcm1WYWxpZGF0b3IiLCJ0b2dnbGVBZGRQb3B1cFdpbmRvdyIsImF2YXRhclBvcHVwIiwiYXZhdGFyVXJsSW5wdXQiLCJjaGFuZ2VBdmF0YXIiLCJ0b2dnbGVBdmF0YXJQb3B1cFdpbmRvdyIsImltYWdlUG9wdXAiLCJfaW1hZ2UiLCJzZXRBdHRyaWJ1dGUiLCJfdXJsIiwiX2NhcHRpb24iLCJlZGl0Rm9ybUVsZW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImZvcm1TZXR0aW5ncyIsImF2YXRhckZvcm1WYWxpZGF0b3IiLCJlZGl0Rm9ybVZhbGlkYXRvciIsIm9wdGlvbnMiLCJfYmFzZVVybCIsImJhc2VVcmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJfY2hlY2tSZXNwb25zZSIsInJlcyIsIm9rIiwianNvbiIsInN0YXR1cyIsImdldEluaXRpYWxDYXJkcyIsImZldGNoIiwibWV0aG9kIiwiYXV0aG9yaXphdGlvbiIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY2FyZHNEYXRhIiwic2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2l0ZW1zIiwiaXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwicmVuZGVyIiwiY2FyZE9iaiIsImNvbnN0cyIsIlByb21pc2UiLCJhbGwiLCJ1c2VyRGF0YSIsImZDYXJkcyIsInVzZXJPYmplY3QiLCJsZW4iXSwic291cmNlUm9vdCI6IiJ9